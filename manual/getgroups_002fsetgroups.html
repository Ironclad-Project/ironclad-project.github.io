<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 2024 streaksu

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License". -->
<title>getgroups/setgroups (Ironclad User&rsquo;s Guide)</title>

<meta name="description" content="getgroups/setgroups (Ironclad User&rsquo;s Guide)">
<meta name="keywords" content="getgroups/setgroups (Ironclad User&rsquo;s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Syscalls.html" rel="up" title="Syscalls">
<link href="ttyname.html" rel="next" title="ttyname">
<link href="setgids.html" rel="prev" title="setgids">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="../styles/docs.css">


</head>

<body lang="en">
<div class="section-level-extent" id="getgroups_002fsetgroups">
<div class="nav-panel">
<p>
Next: <a href="ttyname.html" accesskey="n" rel="next">ttyname</a>, Previous: <a href="setgids.html" accesskey="p" rel="prev">setgids</a>, Up: <a href="Syscalls.html" accesskey="u" rel="up">Syscalls</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<hr>
<h3 class="section" id="getgroups_002fsetgroups-1"><span>9.79 getgroups/setgroups<a class="copiable-link" href="#getgroups_002fsetgroups-1"> &para;</a></span></h3>

<div class="example user-c">
<pre class="example-preformatted"><span style="color:#0057ae">int</span> <span style="color:#010181">getgroups</span><span style="color:#000000">(</span><span style="color:#0057ae">size_t</span> size<span style="color:#000000">,</span> gid_t list<span style="color:#000000">[]);</span>
<span style="color:#0057ae">int</span> <span style="color:#010181">setgroups</span><span style="color:#000000">(</span><span style="color:#0057ae">size_t</span> size<span style="color:#000000">,</span> <span style="color:#0057ae">const</span> gid_t <span style="color:#000000">*</span>list<span style="color:#000000">);</span>
</pre></div>

<p>This syscall gets and sets the supplementary user groups of the caller process.
The stored group IDs, along with the effective GID, will be used to check
permission for file access. among others permission checks.
</p>
<p><code class="code">getgroups</code> does not return the effective GID of the caller process on
the list. POSIX leaves whether the effective GID is included on this list as
an implementation detail, so portable programs should be ready for that
scenario.
</p>
<p>Init starts with an empty array of supplementary group IDs.
</p>
<p>Passing <code class="code">0</code> and <code class="code">NULL</code> to <code class="code">setgroups</code> will empty the
supplementary group list.
</p>
<p><code class="code">getgroups</code> returns the number of supplementary groups or <code class="code">-1</code> on
failure, <code class="code">setgroups</code> returns <code class="code">0</code> on success and <code class="code">-1</code> on failure,
both with the following errno:
</p>
<dl class="table">
<dt><code class="code">EINVAL</code></dt>
<dd><p><code class="code">getgroups</code> size is less than the number of supplementary group IDs.
</p></dd>
</dl>

</div>



</body>
</html>
